---
phase: 11-dashboard-navigation-link
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - components/layout/Navigation.tsx
  - pages/statistics/index.tsx
  - pages/vehicles/[id]/statistics.tsx
  - lib/i18n/dictionaries/en.json
  - lib/i18n/dictionaries/pl.json
autonomous: true

must_haves:
  truths:
    - 'Dashboard is a visible, first-class navigation destination on desktop and mobile.'
    - 'Users can return from statistics views to dashboard in one tap without confirmation.'
    - 'Dashboard return action remains visible on statistics surfaces even when there is no chart data.'
    - 'Dashboard labels and stats CTA copy are localized for English and Polish.'
  artifacts:
    - path: 'components/layout/Navigation.tsx'
      provides: 'Desktop and mobile navigation with dashboard/home entry and clickable logo home route'
    - path: 'pages/statistics/index.tsx'
      provides: 'Statistics page top-level dashboard return action'
    - path: 'pages/vehicles/[id]/statistics.tsx'
      provides: 'Vehicle statistics page top action row with dashboard return action'
    - path: 'lib/i18n/dictionaries/en.json'
      provides: 'English copy for dashboard nav and stats dashboard CTA'
    - path: 'lib/i18n/dictionaries/pl.json'
      provides: 'Polish copy for dashboard nav and stats dashboard CTA'
  key_links:
    - from: 'components/layout/Navigation.tsx'
      to: '/'
      via: 'Dashboard nav item and clickable logo route'
      pattern: "href='/'|\"/\""
    - from: 'pages/statistics/index.tsx'
      to: '/'
      via: 'secondary Go to Dashboard action'
      pattern: 'statistics\.goToDashboard|nav\.dashboard'
    - from: 'pages/vehicles/[id]/statistics.tsx'
      to: '/'
      via: 'top action row dashboard button visible across page states'
      pattern: 'statistics\.goToDashboard|href=\"/\"|href=\'/\''
---

<objective>
Restore dashboard/home navigation from all statistics flows.

Purpose: Close navigation discoverability and continuity gaps between statistics and dashboard without changing business logic.
Output: Updated desktop/mobile navigation plus dashboard return actions on both statistics pages, with EN/PL translation coverage.
</objective>

<execution_context>
@/home/bweber/.config/opencode/get-shit-done/workflows/execute-plan.md
@/home/bweber/.config/opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/11-dashboard-navigation-link/11-CONTEXT.md
@.planning/phases/11-dashboard-navigation-link/11-RESEARCH.md
@components/layout/Navigation.tsx
@pages/statistics/index.tsx
@pages/vehicles/[id]/statistics.tsx
@lib/i18n/dictionaries/en.json
@lib/i18n/dictionaries/pl.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add dashboard/home destination to shared navigation surfaces</name>
  <files>components/layout/Navigation.tsx</files>
  <action>
    Update the active authenticated navigation component to include Dashboard as the first desktop nav item and as a persistent mobile bottom tab.
    Use icon + text treatment consistent with existing entries and route Dashboard to `/`.
    Make the desktop wordmark/logo area clickable to `/` so it also serves as a home return path.
    Preserve existing auth/session behavior and existing visual hierarchy (no special emphasis beyond normal active-state styling).
  </action>
  <verify>npm run lint</verify>
  <done>Desktop and mobile authenticated navigation both expose Dashboard and route to `/` on click/tap, with logo click also routing to `/`.</done>
</task>

<task type="auto">
  <name>Task 2: Add localized dashboard labels and stats return copy</name>
  <files>lib/i18n/dictionaries/en.json, lib/i18n/dictionaries/pl.json, components/layout/Navigation.tsx</files>
  <action>
    Add `nav.dashboard` and `statistics.goToDashboard` keys to both dictionaries with locked copy:
    EN: `Dashboard`, `Go to Dashboard`; PL: `Pulpit`, `Przejdź do pulpitu`.
    Wire navigation label usage to `t('nav.dashboard')` rather than hardcoded text.
    Keep naming and key structure aligned with current dot-notation dictionary conventions.
  </action>
  <verify>npm run lint</verify>
  <done>Both locales resolve dashboard nav label and statistics CTA copy from i18n dictionaries with no hardcoded fallback required.</done>
</task>

<task type="auto">
  <name>Task 3: Add always-visible dashboard return actions on statistics pages</name>
  <files>pages/statistics/index.tsx, pages/vehicles/[id]/statistics.tsx</files>
  <action>
    Add a top secondary action button linking to `/` on the global statistics page and the vehicle statistics page.
    Keep the button rendered outside data-conditional sections so it remains visible during loading, empty, and no-data states.
    Use the shared icon family and localized text key `statistics.goToDashboard`.
    Preserve current page responsibilities (no new data fetching or API changes).
  </action>
  <verify>npm run lint</verify>
  <done>Both statistics surfaces expose a visible, one-tap dashboard return action regardless of statistics data availability.</done>
</task>

</tasks>

<verification>
- `npm run lint`
- `npm run build`
</verification>

<success_criteria>

- Dashboard appears in desktop top nav and mobile bottom nav, and both navigate to `/` immediately.
- Desktop logo/wordmark click navigates to `/`.
- `/statistics` and `/vehicles/[id]/statistics` both show a secondary "Go to Dashboard" action in all UI states.
- EN/PL locales show consistent dashboard wording (`Dashboard`/`Pulpit`, `Go to Dashboard`/`Przejdź do pulpitu`).
  </success_criteria>

<output>
After completion, create `.planning/phases/11-dashboard-navigation-link/11-01-SUMMARY.md`
</output>

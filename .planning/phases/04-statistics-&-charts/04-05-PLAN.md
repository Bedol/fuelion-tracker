---
phase: 04-statistics-&-charts
plan: 05
type: execute
wave: 5
depends_on:
  - 04-04
files_modified:
  - pages/vehicles/[id]/statistics.tsx
autonomous: false

must_haves:
  truths:
    - 'User can view consumption and cost charts for a vehicle'
    - 'User sees summary totals for total spent, average consumption, and distance'
    - 'User sees a not-enough-data message when full-tank intervals are insufficient'
  artifacts:
    - path: 'pages/vehicles/[id]/statistics.tsx'
      provides: 'Statistics page wired to charts and summary'
      exports: ['default']
  key_links:
    - from: 'pages/vehicles/[id]/statistics.tsx'
      to: 'components/statistics/ChartsSection.tsx'
      via: 'rendered section'
      pattern: 'ChartsSection'
---

<objective>
Verify statistics charts and summaries in the live UI.

Purpose: Ensure charts render correctly with real data, and empty states appear when data is insufficient.

Output: Human verification of statistics page behavior.
</objective>

<execution_context>
@/home/bweber/.config/opencode/get-shit-done/workflows/execute-plan.md
@/home/bweber/.config/opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@pages/vehicles/[id]/statistics.tsx
</context>

<tasks>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
    Vehicle statistics page with summary cards, consumption line chart, and monthly cost bar chart,
    including empty-state messaging for insufficient data.
  </what-built>
  <how-to-verify>
    1. Start the dev server: `npm run dev`.
    2. Open a vehicle with fuelings: `/vehicles/{id}/statistics`.
    3. Confirm summary cards show Total Spent, Average Consumption, Total Distance.
    4. Confirm consumption chart shows line points with month labels and tooltip values in L/100km.
    5. Confirm monthly cost chart shows bars for the last 12 months (no zero months).
    6. Open a vehicle with fewer than two full-tank fuelings.
    7. Confirm "not enough data" messaging appears for consumption and summary values show `--`.
  </how-to-verify>
  <resume-signal>Type "approved" if all checks pass, or describe the issues found</resume-signal>
</task>

</tasks>

<verification>
Human verification required for chart rendering and empty-state behavior.
</verification>

<success_criteria>

- Charts and summary render correctly for vehicles with sufficient data
- Empty-state messaging appears for vehicles without enough full-tank intervals
  </success_criteria>

<output>
After completion, create `.planning/phases/04-statistics-&-charts/04-05-SUMMARY.md`
</output>

---
phase: 02-vehicle-management
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - pages/vehicles/index.tsx
  - components/VehicleCard.tsx
autonomous: true

must_haves:
  truths:
    - 'User sees encouraging empty state when no vehicles exist'
    - 'Vehicle cards display key information at a glance'
    - 'Vehicle cards show fuel type icon for visual recognition'
    - 'Vehicle cards are clickable and navigate to detail page'
  artifacts:
    - path: 'pages/vehicles/index.tsx'
      provides: 'Vehicle list with empty state'
      min_lines: 50
    - path: 'components/VehicleCard.tsx'
      provides: 'Enhanced vehicle card with fuel type icon'
      min_lines: 50
  key_links:
    - from: 'pages/vehicles/index.tsx'
      to: '/api/vehicles'
      via: 'TanStack Query fetch'
      pattern: 'useQuery.*vehicles'
    - from: 'components/VehicleCard.tsx'
      to: 'Next.js router'
      via: 'onClick navigation'
      pattern: 'router.push'
---

<objective>
Enhance the vehicle list page with an empty state and improve vehicle cards with fuel type icons and better information hierarchy.

Purpose: Current list shows only basic information and has no guidance when empty. Users need an encouraging empty state and scannable cards with visual fuel type indicators per CONTEXT.md decisions.

Output: Improved vehicle list page with empty state component and enhanced vehicle cards.
</objective>

<execution_context>
@/home/bweber/.config/opencode/get-shit-done/workflows/execute-plan.md
@/home/bweber/.config/opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-vehicle-management/02-CONTEXT.md
@pages/vehicles/index.tsx
@components/VehicleCard.tsx
</context>

<tasks>

<task type="auto">
  <name>Add empty state to vehicle list</name>
  <files>pages/vehicles/index.tsx</files>
  <action>
Update pages/vehicles/index.tsx to show an encouraging empty state when no vehicles exist:

**Empty state structure:**

- Check if `data.length === 0` after successful fetch
- Display centered empty state with:
  - Simple car icon or illustration (use emoji üöó or Chakra Icon)
  - Heading: "Add your first vehicle"
  - Subtext: "Start tracking fuel expenses by adding your vehicle"
  - Large "Add Vehicle" button that links to `/vehicles/new`
  - Styling: Center vertically and horizontally, generous spacing

**Keep existing:**

- Loading state with `<Loading />` component
- Error state with `<FetchDataErrorAlert />` component
- Grid layout for vehicle cards when vehicles exist

**Do NOT change:**

- TanStack Query setup
- API fetch logic
- VehicleCard rendering logic
  </action>
  <verify>
  Check that empty state renders when `data.length === 0`. Verify "Add Vehicle" button links to `/vehicles/new`.
  </verify>
  <done>
  Empty state displays when no vehicles exist with encouraging message and clear call-to-action button.
  </done>
  </task>

<task type="auto">
  <name>Enhance VehicleCard with fuel type icon and better layout</name>
  <files>components/VehicleCard.tsx</files>
  <action>
Update components/VehicleCard.tsx to display more information and add fuel type icon:

**Card enhancements:**

1. **Remove placeholder image** - no photos in v1, replace with colored badge/icon area
2. **Add fuel type icon/badge** at top of card:
   - Map fuel_type to icon/emoji: gasoline (‚õΩ), diesel (üõ¢Ô∏è), lpg (üí®), electric (‚ö°), hybrid (üîã‚õΩ)
   - Display fuel type badge with icon and text (e.g., "‚õΩ Gasoline")
   - Use Chakra Badge or styled div with background color
3. **Display key information:**
   - Brand + Model (large, bold): `{vehicle.brand_name} {vehicle.model_name}`
   - Production year (smaller, gray): `{vehicle.production_year}`
   - Registration number if exists: `{vehicle.registration_number}` (or "No plates" if empty)
4. **Card styling:**
   - Keep hover states (shadow increase, cursor pointer)
   - Responsive padding and spacing
   - Click navigates to detail page: `/vehicles/${vehicle.id}` (not `/vehicles/${vehicle.id}/statistics`)
5. **TypeScript:** Add proper Vehicle type from @prisma/client

**Layout suggestion:**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  ‚õΩ Gasoline        ‚îÇ <- fuel type badge
‚îÇ                     ‚îÇ
‚îÇ  BMW 3 Series       ‚îÇ <- brand + model (large)
‚îÇ  2020               ‚îÇ <- year
‚îÇ  ABC 1234           ‚îÇ <- registration
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**Do NOT:**

- Add Edit/Delete buttons (those go on detail page)
- Add overflow menu (defer to post-v1)
- Use external image library
  </action>
  <verify>
  Check that vehicle card shows fuel type icon, brand, model, year, and registration. Click card and verify navigation to `/vehicles/[id]` (will 404 until Plan 02-04, but URL should be correct).
  </verify>
  <done>
  VehicleCard displays fuel type icon, key vehicle information with clear hierarchy, and navigates to detail page on click.
  </done>
  </task>

</tasks>

<verification>
- [ ] Empty state appears when vehicle list is empty
- [ ] Empty state has encouraging message and "Add Vehicle" button
- [ ] VehicleCard shows fuel type icon/badge
- [ ] VehicleCard displays brand, model, year, registration
- [ ] VehicleCard click navigates to `/vehicles/[id]`
- [ ] Grid layout works responsively (1 col mobile, 2-3 cols desktop)
</verification>

<success_criteria>
Vehicle list provides clear guidance when empty. Vehicle cards are scannable with visual fuel type indicators and key information prominently displayed.
</success_criteria>

<output>
After completion, create `.planning/phases/02-vehicle-management/02-02-SUMMARY.md`
</output>
